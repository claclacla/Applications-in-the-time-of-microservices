<html>

<head>
  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="js/socket.io.js"></script>
  <script>
    $(function () {
      var socket = io("http://localhost:3001", { path: "/order" });

      $("#sendMessage").mousedown(() => {
        let number = $("#number").val();
        socket.emit("set.order.number", { number });
      });

      socket.on('message.dispatched', function (payload) {
        $('#dispatch').append($('<li>').text(payload.message));
      });
    });
  </script>
</head>

<body>
  Order number:
  <input type="number" id="number" />
  <input type="button" value="Listen" id="sendMessage" />
  <br />
  <br /> Dispatch data
  <br />
  <ul id="dispatch">
  </ul>
</body>

</html>